# üßπ PDF Cleaner ‚Äî –û—á–∏—Å—Ç–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–æ—Å, —à—É–º–∞, –ø—è—Ç–µ–Ω. 

**–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç, –ø–µ—á–∞—Ç–∏ –∏ –ø–æ–¥–ø–∏—Å–∏!

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![Windows](https://img.shields.io/badge/Platform-Windows-blue.svg)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîß –£–¥–∞–ª–µ–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–æ—Å –æ—Ç —Å–∫–∞–Ω–µ—Ä–∞
- üßº –®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ–∫—Å—Ç–∞
- üî¥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–µ—á–∞—Ç–∏, –ø–æ–¥–ø–∏—Å–∏, —à—Ç–∞–º–ø—ã)
- üìä –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üñºÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä "–î–æ/–ü–æ—Å–ª–µ" –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- ‚ùå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DPI (150-400)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Windows 10/11
- Python 3.8+
- [Poppler –¥–ª—è Windows](https://github.com/osber/poppler-windows/releases)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Poppler

1. –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —Å [GitHub Releases](https://github.com/osber/poppler-windows/releases)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ `C:\poppler-XX.XX.X\`
3. –ü—É—Ç—å –∫ bin –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `C:\poppler-XX.XX.X\Library\bin`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

```bash
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç—å –∫ Poppler

–û—Ç–∫—Ä–æ–π—Ç–µ `pdf_cleaner.py` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å:

```python
POPPLER_PATH = r"C:\poppler-25.11.0\Library\bin"  # –í–∞—à –ø—É—Ç—å
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### GUI —Ä–µ–∂–∏–º

```bash
python pdf_cleaner.py
```

1. –ù–∞–∂–º–∏—Ç–µ **"–û–±–∑–æ—Ä..."** –∏ –≤—ã–±–µ—Ä–∏—Ç–µ PDF
2. –£–∫–∞–∂–∏—Ç–µ –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º—è)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–ø—Ü–∏–∏:
   - ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ü–≤–µ—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî –æ—Å—Ç–∞–≤—å—Ç–µ –≤–∫–ª—é—á—ë–Ω–Ω—ã–º –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø–µ—á–∞—Ç—è–º–∏
   - DPI ‚Äî –≤—ã—à–µ = –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ, –Ω–æ –¥–æ–ª—å—à–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞
4. –ù–∞–∂–º–∏—Ç–µ **"–û—á–∏—Å—Ç–∏—Ç—å PDF"**

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
from pdf_cleaner import process_pdf, clean_page, CleaningParams

# –ü—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
process_pdf("input.pdf", "output.pdf", dpi=300)

# –° callback –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
def on_progress(current, total, message):
    print(f"{message} ({current}/{total})")

process_pdf(
    "input.pdf", 
    "output.pdf", 
    dpi=300,
    keep_color=True,  # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–µ—á–∞—Ç–∏
    progress_callback=on_progress
)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
import numpy as np
from PIL import Image

img = np.array(Image.open("page.png"))
params = CleaningParams()
params.DENOISE_STRENGTH = 5  # –ú–µ–Ω—å—à–µ = —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π
cleaned = clean_page(img, params)
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—á–∏—Å—Ç–∫–∏

–ö–ª–∞—Å—Å `CleaningParams` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------|----------|
| `MIN_CONTENT_AREA` | 50 | –ú–∏–Ω. –ø–ª–æ—â–∞–¥—å –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è |
| `MAX_NOISE_AREA` | 30 | –ú–∞–∫—Å. –ø–ª–æ—â–∞–¥—å —à—É–º–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è |
| `DENOISE_STRENGTH` | 8 | –°–∏–ª–∞ —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏—è (–º–µ–Ω—å—à–µ = —á—ë—Ç—á–µ —Ç–µ–∫—Å—Ç) |
| `INPAINT_RADIUS` | 5 | –†–∞–¥–∏—É—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª–æ—Å |

## üî¨ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º

1. **–î–µ—Ç–µ–∫—Ü–∏—è —Ü–≤–µ—Ç–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π** ‚Äî –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—á–∞—Ç–∏ –∏ –ø–æ–¥–ø–∏—Å–∏ –ø–æ HSV-–º–∞—Å–∫–µ (—Å–∏–Ω–∏–π, –∫—Ä–∞—Å–Ω—ã–π, —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
2. **–£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª–æ—Å** ‚Äî –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö/–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π
3. **Inpainting** ‚Äî –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª–æ—Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Telea
4. **–î–µ–Ω–æ–π–∑–∏–Ω–≥** ‚Äî Non-Local Means –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–∞
5. **–£–º–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è Otsu –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏
6. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –º–µ–ª–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–µ—Ä–µ–∑ Connected Components
7. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞** ‚Äî –Ω–∞–ª–æ–∂–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ü–≤–µ—Ç–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
