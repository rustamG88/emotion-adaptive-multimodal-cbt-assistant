# üìã –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ **–ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ MVP** –¥–ª—è Telegram-–±–æ—Ç–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤ ¬´–¢–≤–æ—è –õ–∏–Ω–∏—è¬ª —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ø–ª—é—Å-—Å–∞–π–∑ –∞—É–¥–∏—Ç–æ—Ä–∏—é.

---

## üì¶ –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏–ª–∏

### 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **MVP_SPEC.md** | –£—Ä–µ–∑–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¢–ó –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞ 3-4 –Ω–µ–¥–µ–ª–∏ |
| **ROADMAP.md** | –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø–æ –Ω–µ–¥–µ–ª—è–º –∏ –¥–Ω—è–º |
| **QUICK_START.md** | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç |
| **ORIGINAL_FULL_SPEC.md** | –ü–æ–ª–Ω–æ–µ –¢–ó —Å–æ –≤—Å–µ–º–∏ —Ñ–∏—á–∞–º–∏ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ) |
| **README.md** | –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ |

### 2. –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
/workspace
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # (TODO) –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/       # (TODO) Auth, rate-limit
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # ‚úÖ Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≥–æ—Ç–æ–≤—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ conversations/     # (TODO) FSM —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.service.js    # ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scoring.js         # ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥–±–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stopwords.js       # ‚úÖ –ê–Ω—Ç–∏-—Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logger.js          # ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ bot.js                 # ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ index.js               # ‚úÖ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma          # ‚úÖ –°—Ö–µ–º–∞ –ë–î (SQLite)
‚îú‚îÄ‚îÄ .env.example               # ‚úÖ –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞
‚îî‚îÄ‚îÄ package.json               # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### 3. –¢–µ—Ö—Å—Ç–µ–∫

- **Node.js 20+**
- **grammy** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- **Prisma ORM** ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **SQLite** ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ë–î –¥–ª—è MVP (–ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç –≤ PostgreSQL)
- **Pino** ‚Äî –±—ã—Å—Ç—Ä–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚úÇÔ∏è –ß—Ç–æ —É—Ä–µ–∑–∞–ª–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –¢–ó

–î–ª—è MVP —É–±—Ä–∞–ª–∏ (–¥–æ–±–∞–≤–∏–º –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏):

‚ùå YooKassa (–∫–∞—Ä—Ç—ã/–°–ë–ü) ‚Äî —Ç–æ–ª—å–∫–æ Stars  
‚ùå ML-–º–æ–¥–µ—Ä–∞—Ü–∏—è ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞  
‚ùå –í–∏–¥–µ–æ-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî —Ç–æ–ª—å–∫–æ —Ñ–æ—Ç–æ  
‚ùå –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥–±–æ—Ä–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫  
‚ùå Icebreakers ‚Äî –¥–æ–±–∞–≤–∏–º –≤ M1  
‚ùå –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞  
‚ùå –ì–æ—Ä–æ–¥—Å–∫–∏–µ –±—É—Å—Ç—ã  
‚ùå –†–µ–∂–∏–º "–ø—Ä–∏–∑—Ä–∞–∫"  
‚ùå "–ö—Ç–æ —Å–º–æ—Ç—Ä–µ–ª –º–µ–Ω—è"  

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –° 3-6 –º–µ—Å—è—Ü–µ–≤ ‚Üí **3-4 –Ω–µ–¥–µ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

---

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ (5 –º–∏–Ω—É—Ç)
–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ [QUICK_START.md](./QUICK_START.md)

```bash
npm install
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (BOT_TOKEN, ADMIN_IDS)
npm run prisma:migrate
npm run dev
```

### –®–∞–≥ 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (4 –Ω–µ–¥–µ–ª–∏)
–°–ª–µ–¥—É–π—Ç–µ –ø–ª–∞–Ω—É –≤ [ROADMAP.md](./ROADMAP.md)

**–ù–µ–¥–µ–ª—è 1:** –û–Ω–±–æ—Ä–¥–∏–Ω–≥ + –±–∞–∑–∞  
**–ù–µ–¥–µ–ª—è 2:** –ê–Ω–∫–µ—Ç—ã  
**–ù–µ–¥–µ–ª—è 3:** –ü–æ–∏—Å–∫ –∏ —á–∞—Ç  
**–ù–µ–¥–µ–ª—è 4:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø–ª–∞—Ç–µ–∂–∏  

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- 10-20 —Ä–µ–∞–ª—å–Ω—ã—Ö –±–µ—Ç–∞-—Ç–µ—Å—Ç–µ—Ä–æ–≤
- –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- –ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–∫—Å—ã

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫
–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞ 30 —Å–µ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã –∑–∞ 2 –º–∏–Ω
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ß–∞—Ç –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ Premium –ø–æ–∫—É–ø–∞–µ—Ç—Å—è
- ‚úÖ –ñ–∞–ª–æ–±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞ MVP

**–¶–µ–ª—å –ø–µ—Ä–≤–æ–≥–æ –º–µ—Å—è—Ü–∞:**
- 100+ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- 50+ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∞–Ω–∫–µ—Ç
- 20+ –º–∞—Ç—á–µ–π
- 10+ –ø–æ–∫—É–ø–æ–∫ Premium

–ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ M1 (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏).

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É—Ä–µ–∑–∞–Ω–Ω–æ–≥–æ MVP

1. **–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫** ‚Äî 4 –Ω–µ–¥–µ–ª–∏ –≤–º–µ—Å—Ç–æ 6 –º–µ—Å—è—Ü–µ–≤
2. **–§–æ–∫—É—Å –Ω–∞ –≥–ª–∞–≤–Ω–æ–º** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –≥–∏–ø–æ—Ç–µ–∑—É, –∞ –Ω–µ —Å—Ç—Ä–æ–∏–º –≤—Å—ë —Å—Ä–∞–∑—É
3. **–õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è** ‚Äî SQLite ‚Üí PostgreSQL –∑–∞ 1 –¥–µ–Ω—å
4. **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏
5. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ—Ö–¥–æ–ª–≥** ‚Äî Prisma + grammy = —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma + SQLite)

**9 —Ç–∞–±–ª–∏—Ü:**
- `User` ‚Äî –ø—Ä–æ—Ñ–∏–ª–∏
- `Message` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–∞—Ö
- `Match` ‚Äî –≤–∑–∞–∏–º–Ω—ã–µ –ª–∞–π–∫–∏
- `Like` ‚Äî –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ª–∞–π–∫–∏
- `Report` ‚Äî –∂–∞–ª–æ–±—ã
- `Payment` ‚Äî –ø–ª–∞—Ç–µ–∂–∏ Stars
- `Admin` ‚Äî –∞–¥–º–∏–Ω—ã
- `Config` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ú–∏–≥—Ä–∞—Ü–∏–∏:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- 18+ —á–µ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- 30+ —Å—Ç–æ–ø-—Å–ª–æ–≤ (—à–µ–π–º–∏–Ω–≥, —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å)
- Rate limits (10 —Å–æ–æ–±—â–µ–Ω–∏–π/—á–∞—Å –±–µ–∑ –º–∞—Ç—á–∞)
- 3-strike —Å–∏—Å—Ç–µ–º–∞ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ ‚Üí –º—É—Ç ‚Üí –±–∞–Ω)
- Soft delete –ø—Ä–æ—Ñ–∏–ª–µ–π

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

**Telegram Stars (–Ω–∞—Ç–∏–≤–Ω–∞—è –æ–ø–ª–∞—Ç–∞):**
- Premium: 300 Stars/–º–µ—Å (~200‚ÇΩ)
- –°—É–ø–µ—Ä-–∏–Ω—Ç–µ—Ä–µ—Å: 50 Stars (~35‚ÇΩ) [–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ]

**–ß—Ç–æ –¥–∞—ë—Ç Premium:**
- 5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ –º–∞—Ç—á–∞ (–≤–º–µ—Å—Ç–æ 1)
- –ë–µ–π–¥–∂ ‚≠ê –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ –ø–æ–∏—Å–∫–µ (+10 –∫ —Å–∫–æ—Ä–∏–Ω–≥—É)

---

## üéì –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [grammy](https://grammy.dev) ‚Äî Telegram Bot Framework
- [Prisma](https://prisma.io/docs) ‚Äî ORM
- [Telegram Bot API](https://core.telegram.org/bots/api) ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°–æ–æ–±—â–µ—Å—Ç–≤–∞:**
- [Grammy Telegram Group](https://t.me/grammyjs)
- [Prisma Discord](https://pris.ly/discord)

---

## ‚ùì FAQ

### Q: –ü–æ—á–µ–º—É SQLite, –∞ –Ω–µ PostgreSQL?
**A:** –î–ª—è –ø–µ—Ä–≤—ã—Ö 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π SQLite –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ. –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL ‚Äî 1 –¥–µ–Ω—å —Ä–∞–±–æ—Ç—ã.

### Q: –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–æ—Ç–æ?
**A:** –¢–æ–ª—å–∫–æ `file_id` –æ—Ç Telegram. CDN Telegram –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å?
**A:** –î–∞. Prisma –ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä—É–µ—Ç –Ω–∞ PostgreSQL. –î–æ–±–∞–≤—å—Ç–µ Redis –¥–ª—è –∫–µ—à–∞, –∏ –±–æ—Ç –≤—ã–¥–µ—Ä–∂–∏—Ç 100k+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### Q: –ù—É–∂–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä?
**A:** –î–∞. VPS –æ—Ç $5/–º–µ—Å (Hetzner, DigitalOcean) –∏–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier Railway/Render.

### Q: –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Stars?
**A:** Telegram –Ω–µ –¥–∞—ë—Ç test-environment. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ production —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏ –∏–ª–∏ –º–æ–∫–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

---

## üéâ –ò—Ç–æ–≥

**–í—ã –ø–æ–ª—É—á–∏–ª–∏:**
‚úÖ –ì–æ—Ç–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É MVP  
‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  
‚úÖ –†–∞–±–æ—á–∏–µ —É—Ç–∏–ª–∏—Ç—ã (scoring, stopwords)  
‚úÖ –°—Ö–µ–º—É –ë–î  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é  

**–ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:**
‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å handlers –∏ conversations (4 –Ω–µ–¥–µ–ª–∏)  
‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å  
‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å  

---

**–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å?** ‚Üí [QUICK_START.md](./QUICK_START.md)  
**–ù—É–∂–µ–Ω –ø–ª–∞–Ω?** ‚Üí [ROADMAP.md](./ROADMAP.md)  
**–•–æ—Ç–∏—Ç–µ –¥–µ—Ç–∞–ª–∏?** ‚Üí [MVP_SPEC.md](./MVP_SPEC.md)

---

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ**
